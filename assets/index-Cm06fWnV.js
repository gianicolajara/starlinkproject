(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function r(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(t){if(t.ep)return;t.ep=!0;const i=r(t);fetch(t.href,i)}})();const B=async(n,e)=>await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${n}&lon=${e}`,{headers:{"content-type":"application/json"}})).json(),j=()=>{if(!window.localStorage)return-1;const n=(o,t)=>{window.localStorage.setItem(o,JSON.stringify({data:t,expire:Date.now()+864e5}))},e=o=>{if(!window.localStorage.getItem(o))return null;window.localStorage.removeItem(o)};return{save:n,del:e,get:o=>window.localStorage.getItem(o)?JSON.parse(window.localStorage.getItem(o)).expire<=Date.now()?(e(o),null):JSON.parse(window.localStorage.getItem(o)).data:null}},T=({onOnline:n,onOffline:e,initialOffline:r,initialOnline:o})=>{try{let t;return t??(t=navigator.onLine),t?o==null||o():r==null||r(),window.addEventListener("online",()=>{t=!0,n==null||n()}),window.addEventListener("offline",()=>{t=!1,e==null||e()}),t}catch(t){console.error(t)}},M=async({isCached:n})=>{let e,r;const o=async i=>{if(n){i();return}try{const s=await new Promise((d,u)=>{navigator.geolocation.getCurrentPosition(d,u)});s!=null&&s.coords&&(r=s.coords.latitude,e=s.coords.longitude),i(r,e)}catch(s){console.error(s)}};return{retryGetGeolocationData:async()=>{!e&&!r&&await o()},lat:r,long:e,init:o}},P=async(n,e)=>{if(!n)throw new Error("Father Element is mandatory in Insert Location");try{e?n.innerHTML=`Your current location is <strong>${e}</strong> <br /> our product is avaliable in your country`:n.textContent="Country not available"}catch(r){console.error("Error setting location: ",r),n.textContent="Error setting location"}},L=n=>{n.textContent="Your internet is disconnected"},D=(n,e="ORDER NOW")=>{const r=document.createElement("button");r.classList.add("px-4","py-2","bg-white","rounded-lg","font-bold","text-sm","hover:bg-black","hover:text-white","hover:cursor-pointer","transition-all","active:scale-95"),r.textContent=e,n.appendChild(r)},F=[{id:1,img:"/starlinkproject/media/images/residential.jpg",title:"Residential",description:"Residential connection for the whole family"},{id:2,img:"/starlinkproject/media/images/everywhere.jpg",title:"Everywhere",description:"Our satellites are everywhere, you will always have a signal"},{id:3,img:"/starlinkproject/media/images/boat.jpg",title:"The sea",description:"Our signal reaches all the seas of the world, wherever you are in the world."}],S=n=>{if(!n)throw new Error("Parent element is mandatory in Insert Loading");const e=document.createElement("div");return{buildElement:()=>{e.classList.add("border-2","border-gray-300","rounded-full","w-5","h-5","animate-spin"),n.appendChild(e)},dismissElement:()=>{if(e.classList.length===0)throw new Error("This loading element doesn't exist");e.parentNode.removeChild(e)}}},G=({icon:n,text:e,fatherElement:r,description:o="This is a button",onClick:t})=>{if(!r)throw new Error("Father Element is mandatory in Button Text Icon");const s=document.getElementById("button-text-icon-template").content.cloneNode(!0),d=s.getElementById("button-text-icon-text"),u=s.getElementById("button-text-icon-icon"),l=s.getElementById("button-text-icon");return{buildElement:()=>{l.setAttribute("aria-label",o),e||d.parentNode.removeChild(d),e&&(d.textContent=e),n||u.parentNode.removeChild(u),n&&u.classList.add("fa",n),l.addEventListener("click",async()=>{try{const m=S(l);m.buildElement(),d.style.display="none",u.style.display="none",await t(),d.style.display="inline",u.style.display="inline",m.dismissElement()}catch(m){console.error("Error durante la acciÃ³n:",m)}}),l.addEventListener("touchend",()=>{d.style.display="hidden",u.style.display="hidden";const m=S(l);m.buildElement(),t(),d.style.display="inline",u.style.display="inline",m.dismissElement()}),r.appendChild(s)},dismissElement:()=>{l.parentNode.removeChild(l),l.removeEventListener("click",t),l.removeEventListener("touchend",t)}}},Y=async()=>{const n=document.getElementById("geo-data-text"),e=document.getElementById("geo-data"),r=document.querySelector("#close-menu"),o=document.querySelector("#menu"),t=document.getElementById("open-menu"),i=document.querySelector("#heroe-video"),s=document.querySelector("#title"),d=document.querySelector("#product-template"),u=document.querySelector("#list-products-container"),l=document.querySelector("html"),p=document.querySelector("#nav-menu"),E=j(),m=E.get("country"),w=()=>{o.classList.contains("open")||(o.style.transform="translate(0%)"),o.classList.toggle("open"),l.style.overflowY="hidden"},f=()=>{o.classList.contains("open")&&(o.style.transform="translate(100%)"),o.classList.toggle("open"),l.style.overflowY="visible"};r.addEventListener("click",f),t.addEventListener("click",w),t.addEventListener("touchend",w),r.addEventListener("touchend",f),window.addEventListener("resize",()=>{if(window.innerWidth<768){s.style.display="block";return}});const{retryGetGeolocationData:x,lat:C,long:I,init:N}=await M({isCached:!!m}),v=G({fatherElement:e,text:"Find Your Location",icon:"fa-map-marker",description:"button to get your location and give you a personalized service",onClick:async()=>{try{await N(async(c,a)=>{await b(c,a)})}catch(c){console.error("Something was wrong getting and setting location: ",c)}}});v.buildElement();const b=async(c,a)=>{var g,h;let y;if(c&&a&&!m){try{y=await B(c,a)}catch(q){console.error(q);return}E.save("country",(g=y.address)==null?void 0:g.country)}v.dismissElement(),P(n,((h=y==null?void 0:y.address)==null?void 0:h.country)??m),D(e)};T({onOnline:async()=>{await x(),await b(C,I)},onOffline:()=>{L(n)},initialOffline:()=>{L(n)}}),i.ontimeupdate=()=>{if(window.innerWidth<768)return;const c=i.duration%60,a=i.currentTime/c*100;a>=0&&a<=24?s.style.display="block":s.style.display="none"},F.forEach(c=>{const a=d.content.cloneNode(!0),y=a.querySelector("#article-product");y.style.backgroundImage=`url(${c.img})`;const g=a.querySelector("#title-product");g.textContent=c.title;const h=a.querySelector("#description-product");h.textContent=c.description,u.appendChild(a)}),document.addEventListener("scroll",()=>{let c=window.scrollY;c>=200&&(p.style.background="rgba(0,0,0,0.5)",p.style.backdropFilter="blur(2rem)"),c<200&&(p.style.background="transparent",p.style.backdropFilter="none")})};document.addEventListener("DOMContentLoaded",Y);
