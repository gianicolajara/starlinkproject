(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();const I=()=>{if(!window.localStorage)return-1;const o=(r,n)=>{window.localStorage.setItem(r,JSON.stringify({data:n,expire:Date.now()+864e5}))},e=r=>{if(!window.localStorage.getItem(r))return null;window.localStorage.removeItem(r)};return{save:o,del:e,get:r=>window.localStorage.getItem(r)?JSON.parse(window.localStorage.getItem(r)).expire<=Date.now()?(e(r),null):JSON.parse(window.localStorage.getItem(r)).data:null}},j=({onOnline:o,onOffline:e,initialOffline:t,initialOnline:r})=>{let n;return n??(n=navigator.onLine),n?r==null||r():t==null||t(),window.addEventListener("online",()=>{n=!0,o==null||o()}),window.addEventListener("offline",()=>{n=!1,e==null||e()}),{isOnline:n}},B=({isCached:o})=>{let e,t;return{lat:t,long:e,init:n=>{if(o){n();return}try{return navigator.geolocation.getCurrentPosition(i=>{i!=null&&i.coords&&(t=i.coords.latitude,e=i.coords.longitude),n(t,e)}),{lat:t,long:e}}catch(i){console.error(i)}}}},q=async(o,e)=>{const t=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${o}&lon=${e}`,{headers:{"content-type":"application/json"}});if(!t.ok)throw new Error("Error getting data from nominatim service");return await t.json()},T=[{id:1,img:"/starlinkproject/media/images/residential.jpg",title:"Residential",description:"Residential connection for the whole family"},{id:2,img:"/starlinkproject/media/images/everywhere.jpg",title:"Everywhere",description:"Our satellites are everywhere, you will always have a signal"},{id:3,img:"/starlinkproject/media/images/boat.jpg",title:"The sea",description:"Our signal reaches all the seas of the world, wherever you are in the world."}],$=o=>{if(!o)throw new Error("Father Element is mandatory in Insert Location");let e=o;return{insertLocationCountry:i=>{i?e.innerHTML=`Your current location is <strong>${i}</strong> <br /> our product is avaliable in your location`:e.textContent="Country not available"},insertLocationOffline:()=>{e.textContent="Your internet is disconnected"},resetLocationText:()=>{e.textContent=""}}},k=(o,e="ORDER NOW")=>{let t;return{buildElement:()=>{t=document.createElement("button"),t.classList.add("px-4","py-2","bg-white","rounded-lg","font-bold","text-sm","hover:bg-black","hover:text-white","hover:cursor-pointer","transition-all","active:scale-95"),t.textContent=e,o.appendChild(t)},dismissElement:()=>{var i;t&&((i=t.parentNode)==null||i.removeChild(t),t=void 0)}}},N=o=>{if(!o)throw new Error("Parent element is mandatory in Insert Loading");const e=document.createElement("div");return{buildElement:()=>{e.classList.add("border-x-2","border-t-2","border-gray-300","rounded-full","w-5","h-5","animate-spin"),o.appendChild(e)},dismissElement:()=>{if(e.classList.length===0)throw new Error("This loading element doesn't exist");e.parentNode.removeChild(e)}}},D=({icon:o,text:e,fatherElement:t,description:r="This is a button",onClick:n})=>{if(!t)throw new Error("Father Element is mandatory in Button Text Icon");const i=document.getElementById("button-text-icon-template");let s,a,c,l,y;return{buildElement:()=>{s=i.content.cloneNode(!0),a=s.getElementById("button-text-icon-text"),c=s.getElementById("button-text-icon-icon"),l=s.getElementById("button-text-icon"),l.setAttribute("aria-label",r),y=N(l),e||a.parentNode.removeChild(a),e&&(a.textContent=e),o||c.parentNode.removeChild(c),o&&c.classList.add("fa",o);const m=()=>{console.log("hola"),n()};l.addEventListener("click",m),t.appendChild(s)},dismissElement:()=>{var m;s&&((m=l.parentNode)==null||m.removeChild(l),l.removeEventListener("click",n),s=void 0,a=void 0,c=void 0,l=void 0,y=void 0)},loadingElement:()=>{s&&(y.buildElement(),a.style.display="none",c.style.display="none",l.disabled=!0)},stopLoadingElement:()=>{s&&(a.style.display="inline",c.style.display="inline",y.dismissElement(),l.disabled=!1)}}},O=o=>{const e=document.querySelector("#product-template"),t=document.querySelector("#list-products-container");return{buildElement:()=>{o.forEach(n=>{const i=e.content.cloneNode(!0),s=i.querySelector("#article-product");s.style.backgroundImage=`url(${n.img})`;const a=i.querySelector("#title-product");a.textContent=n.title;const c=i.querySelector("#description-product");c.textContent=n.description,t.appendChild(i)})}}},M=()=>{const o=document.querySelector("#close-menu"),e=document.querySelector("#menu"),t=document.getElementById("open-menu"),r=document.querySelector("html");return{buildEvents:()=>{const i=()=>{e.classList.contains("open")||(e.style.transform="translate(0%)"),e.classList.toggle("open"),r.style.overflowY="hidden"},s=()=>{e.classList.contains("open")&&(e.style.transform="translate(100%)"),e.classList.toggle("open"),r.style.overflowY="visible"};o.addEventListener("click",s),t.addEventListener("click",i)}}},P=()=>{const o=document.querySelector("#title");return{buildEvents:()=>{window.addEventListener("resize",()=>{if(window.innerWidth<1024){o.style.display="block";return}})}}},F=()=>{const o=document.querySelector("#heroe-video"),e=document.querySelector("#title");return{buildEvents:()=>{o.ontimeupdate=()=>{if(window.innerWidth<768)return;const r=o.duration%60,n=o.currentTime/r*100;n>=0&&n<=24?e.style.display="block":e.style.display="none"}}}},H=()=>{const o=document.querySelector("#nav-menu");return{buildEvents:()=>{document.addEventListener("scroll",()=>{let t=window.scrollY;t>=200&&(o.style.background="rgba(0,0,0,0.5)",o.style.backdropFilter="blur(2rem)"),t<200&&(o.style.background="transparent",o.style.backdropFilter="none")})}}},f={country:"country",weather:"weather"},Y=async o=>{const e=await fetch(`https://api.weatherapi.com/v1/current.json?q=${o}&key=815a2964cd27416b90d24405242111`,{headers:{"content-type":"application/json"}});if(console.log(e),!e.ok)throw new Error("Error getting data from weather service");return await e.json()},z=()=>{const o=I();let e,t=document.getElementById("weather-image"),r=document.getElementById("weather-city"),n=document.getElementById("weather-temperature"),i=document.getElementById("weather-container"),s;const a=()=>{i&&(s=N(i),s.buildElement())},c=()=>{i&&s.dismissElement()},l=()=>{e&&(n.textContent=`${e.temperature} Â°C`,r.textContent=e.city,t.setAttribute("src",e.icon),t.style.display="block")};return{getData:async({address:p,stored:h})=>{var g,d,m,E;if(a(),h){e=h,c(),l();return}if(!p){c();return}try{const u=await Y(`${p.country} ${p.city}`);e={icon:(d=(g=u.current)==null?void 0:g.condition)==null?void 0:d.icon,temperature:(m=u.current)==null?void 0:m.dewpoint_c,city:(E=u.location)==null?void 0:E.name},o.save(f.weather,e)}catch(u){console.error("Error getting weather data: ",u)}finally{c(),l()}},buildElement:l}},A=async()=>{const o=document.getElementById("geo-data-text"),e=document.getElementById("geo-data"),t=I(),r=t.get(f.country),n=t.get(f.weather),i=z();await i.getData({address:r,stored:n});const s=O(T),a=M(),c=P(),l=F(),y=H();s.buildElement(),a.buildEvents(),c.buildEvents(),l.buildEvents(),y.buildEvents();const{init:p}=B({isCached:!!r}),h=k(e),g=$(o),d=D({fatherElement:e,text:"Find Your Location",icon:"fa-map-marker",description:"button to get your location and give you a personalized service",onClick:()=>{try{p(async(E,u)=>{await m(E,u),r||await i.getData({address:t.get(f.country)})})}catch(E){console.error("Something was wrong getting and setting location: ",E)}}}),m=async(E,u)=>{var C,x,S;let v,b,L;if(d.loadingElement(),E&&u&&!r){try{const w=await q(E,u);v=(C=w.address)==null?void 0:C.country,b=(x=w.address)==null?void 0:x.city,L=(S=w.address)==null?void 0:S.country_code}catch(w){console.error(w);return}t.save(f.country,{country:v,city:b,code:L})}d.stopLoadingElement(),d.dismissElement(),g.insertLocationCountry(v&&b?`${v} ${b}`:`${r.country} ${r.city}`),h.buildElement()};j({onOnline:async()=>{g.resetLocationText(),r!=null&&r.data||d.buildElement()},onOffline:()=>{g.insertLocationOffline(),d.dismissElement(),h.dismissElement()},initialOffline:()=>{g.insertLocationOffline()},initialOnline:()=>{d.buildElement()}})};document.addEventListener("DOMContentLoaded",A);
